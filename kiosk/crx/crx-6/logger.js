(function(){define(function(require){return class{constructor(t={}){this._loggerFactory=this._loggerFactory.bind(this),this.options=t,this.logs=[],this.loggingEnabled=!0,this._setupLoggingMethods(),null!=this.options.handleLog&&(this.queue=this.options.handleLog),this.logReportingEnabled=!0}queue(t){return this.logs.push(t)}popLogs(){return this.logs.splice(0)}_loggerFactory(t){return(...s)=>{if(this.loggingEnabled&&"log"!==t&&"info"!==t)return console[t](`${t}:`,this._stringifyLog(s)),this.queue({level:t,message:this._stringifyLog(s)})}}_setupLoggingMethods(){var t,s,o,i,n;for(n=[],t=0,s=(i=["log","info","warn","error"]).length;t<s;t++)o=i[t],n.push(this[o]=this._loggerFactory(o));return n}_stringifyLog(t){var s,o,i,n,e;for(e=[],o=0,i=t.length;o<i;o++)if("string"==(n=typeof(s=t[o]))||"number"===n)e.push(s);else try{e.push(JSON.stringify(s))}catch(t){t,e.push(s)}return e.join(", ")}sendLogs(){var t,s,o,i,n,e;if(this.logReportingEnabled){for(e=[],s=0,o=(n=this.popLogs()).length;s<o;s++)i=n[s],e.push("function"==typeof(t=this.options).publish?t.publish(i):void 0);return e}return this.popLogs()}}})}).call(this);