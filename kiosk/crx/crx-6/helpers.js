(function(){define(function(require){return class t{static doXHR(e={}){return new Promise(function(r,s){var n,o,a,i;for(n in(i=new XMLHttpRequest).open(e.method,e.url),o=e.headers||{})a=o[n],i.setRequestHeader(n,a);return i.onload=function(){var e;return(e=t.parse(i.responseText)).statusCode=this.status,400===this.status||this.status>=200&&this.status<300?r(e):this.status>400?s(new Error(e)):r(e)},i.onerror=function(){return s(new Error(this))},i.send(e.data)})}static gapiRequest(t,e){var r;return r={},e&&(r.Authorization=`Bearer ${window.token}`),this.doXHR({method:"GET",url:`https://www.googleapis.com/${t}`,headers:r})}static dateString(t=!1){var e,r,s,n,o,a,i;return(o=((e=new Date).getMonth()+1).toString())[1]||(o=`0${o}`),(r=e.getDate().toString())[1]||(r=`0${r}`),i=t?((s=e.getHours().toString())[1]||(s=`0${s}`),(n=e.getMinutes().toString())[1]||(n=`0${n}`),(a=e.getSeconds().toString())[1]||(a=`0${a}`),` - ${s}:${n}:${a}`):"",`${e.getFullYear()}${o}${r}${i}`}static parse(t){try{return JSON.parse(t)}catch(e){return e,t}}}})}).call(this);